(()=>{"use strict";function e(e){const t=document.createElement("article"),n=document.createElement("img"),s=document.createElement("h3"),o=document.createElement("a");return t.classList.add("pet-card"),n.classList.add("pet-card__pet-img"),s.classList.add("pet-card__pet-name"),o.className="button-secondary pet-card__pet-link",t.dataset.id=e.id,t.dataset.showPopup="",n.src=e.img,s.textContent=e.name,o.href="##",o.textContent="Learn more",t.append(n,s,o),t}const t=function(){let e=n([0,1,2,3,4,5,6,7]),t=[...e];for(let s=0;s<5;s++){let s=[],o=e.slice(-4),i=e.slice(0,4);i=n(i),s.push(...i.splice(-2,2)),i.push(...o.slice(0,2)),i=n(i),s.push(...i.splice(-2,2)),i.push(...o.slice(-2)),i=n(i),s.push(...i),t.push(...s),e=s}return t;function n(e){let t=[...e];for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}}();!function(e){console.log("Testing: ",e);for(let t=0;t<6;t++){let n=e.slice(8*t,8*t+8);if(new Set(n).size<8)return void console.log(`Error in ${t} set of [8]: `+n)}for(let t=0;t<8;t++){let n=e.slice(6*t,6*t+6);if(new Set(n).size<6)return void console.log(`Error in ${t} set of [6]: `+n)}console.log("ARRAY IS GOOD")}(t);const n=document.querySelector(".all-pets__list"),s=document.querySelector(".all-pets .button-round-first"),o=document.querySelector(".all-pets .button-round-next"),i=document.querySelector(".all-pets .button-round-current"),d=document.querySelector(".all-pets .button-round-prev"),c=document.querySelector(".all-pets .button-round-last");let l,a=1,r=8,u="desktop",p="desktop",m=!1;function g(e,t){n.classList.remove("showing"),n.classList.add("hiding"),n.addEventListener("animationend",(function s(o){o.animationName==e&&(t(),n.classList.remove("hiding"),n.classList.add("showing"),n.removeEventListener("animationend",s))}))}function b(){const s=(a-1)*r,o=s+r;n.innerHTML="";for(let i=s;i<o;i++)n.append(e(l[t[i]]))}function h(){return Math.round(48/r)}function _(){i.textContent=a,a>1?(s.classList.remove("disabled"),d.classList.remove("disabled")):(s.classList.add("disabled"),d.classList.add("disabled")),a>=h()?(c.classList.add("disabled"),o.classList.add("disabled")):(c.classList.remove("disabled"),o.classList.remove("disabled"))}function v(){let e=n.getBoundingClientRect().width;e>=1200&&(u="desktop"),e<1200&&e>300&&(u="tablet"),e<=300&&(u="mobile"),u!=p?(p=u,m=!0):m=!1}function f(){switch(u){case"desktop":r=8;break;case"tablet":r=6;break;case"mobile":r=3}}fetch("./assets/json/pets.json").then((e=>e.json())).then((e=>{l=e,v(),f(),g("fadeout",b)})),window.onload=()=>{!function(){const e=document.body,t=document.querySelector(".header--fixed"),n=document.querySelector(".burger-menu"),s=document.querySelector(".header");function o(){if(n.classList.toggle("visible"),s.classList.toggle("hidden"),document.querySelectorAll(".burger-button").forEach((e=>e.classList.toggle("rotate-90"))),n.classList.contains("visible")){let n=e.getBoundingClientRect().width;e.classList.add("overflow-hidden");let s=e.getBoundingClientRect().width-n;e.style.marginRight=s+"px",t&&(t.style.marginRight=s+"px")}else e.classList.remove("overflow-hidden"),e.style.marginRight="",t&&(document.querySelector(".header--fixed").style.marginRight="")}document.addEventListener("click",(function(e){(e.target.closest(".burger-button")||e.target.closest(".backdrop"))&&o(),e.target.classList.contains("burger-menu__menu-link")&&o()}))}(),document.addEventListener("click",(e=>{(e.target.closest(".popup__button-round-close")||e.target.classList.contains("popup__container"))&&(document.querySelector(".popup").remove(),document.body.classList.remove("overflow-hidden"),document.body.style.marginRight="",document.querySelector(".header").style.right="")})),document.addEventListener("click",(e=>{const t=e.target.closest("[data-show-popup]");if(t){let e=document.body.getBoundingClientRect().width;document.body.classList.add("overflow-hidden");let s=document.body.getBoundingClientRect().width,o=s-e;document.body.style.marginRight=s-e+"px",document.querySelector(".header").style.right=o+"px",n=t.dataset.id,fetch("./assets/json/pets.json").then((e=>e.json())).then((e=>{const t=e.find((e=>e.id==n)),s=document.createElement("article");s.className="popup",s.innerHTML=`\n            <div class="popup__container">\n                <div class="popup__wrapper">\n                    <div class="popup__img">\n                        <img src="${t.img}" alt="${t.name}">\n                    </div>\n                    <div class="popup__text">\n                        <div class="popup__title-wrapper">\n                            <h2 class="popup__title">${t.name}</h2>\n                            <div class="popup__subtitle">${t.type} - ${t.breed}</div>\n                        </div>\n                        <div class="popup__description">${t.description}</div>\n                        <ul class="popup__metics">\n                            <li class="popup__metric popup__age"><b>Age:</b> ${t.age}</li>\n                            <li class="popup__metric popup__inoculations"><b>Inoculations:</b> ${t.inoculations.join(", ")}</li>\n                            <li class="popup__metric popup__diseases"><b>Diseases:</b> ${t.diseases.join(", ")}</li>\n                            <li class="popup__metric parasites"><b>Parasites:</b> ${t.parasites.join(", ")}</li>\n                        </ul>\n                    </div><button class="button-round-close popup__button-round-close" title="Close"></button>\n                </div>\n            </div>\n            <div class="backdrop backdrop--darkTheme"></div>\n            `,document.documentElement.prepend(s)}))}var n})),s.addEventListener("click",(()=>{a=1,g("fadeout",b),_()})),d.addEventListener("click",(()=>{a--,g("fadeout",b),_()})),o.addEventListener("click",(()=>{a++,g("fadeout",b),_()})),c.addEventListener("click",(()=>{a=h(),g("fadeout",b),_()})),window.addEventListener("resize",(()=>{v(),f(),m&&(m=!1,a*r>48&&(a=h()),b(),_())}))}})();
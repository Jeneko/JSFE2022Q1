(()=>{"use strict";function e(e){const t=document.createElement("article"),n=document.createElement("img"),s=document.createElement("h3"),i=document.createElement("a");return t.classList.add("pet-card"),n.classList.add("pet-card__pet-img"),s.classList.add("pet-card__pet-name"),i.className="button-secondary pet-card__pet-link",t.dataset.id=e.id,t.dataset.showPopup="",n.src=e.img,s.textContent=e.name,i.href="##",i.textContent="Learn more",t.append(n,s,i),t}let t,n,s=!1;const i=document.querySelector(".pets__slides"),o=document.querySelector(".pets__slides-wrapper"),d=document.querySelector(".pets__slides-prev"),c=document.querySelector(".pets__slides-current"),r=document.querySelector(".pets__slides-next"),a=document.querySelector(".pets__slider-next"),l=document.querySelector(".pets__slider-prev");function u(t,n,s){const i=function(e,t){const n=new Set;if(t>e.length-1)throw new RangeError("Array's length must be greater or equal to qty");for(;n.size<t;)n.add(p(e));return Array.from(n)}(n,s);t.innerHTML="";for(let n of i)t.append(e(n))}function p(e){return e[Math.floor(Math.random()*e.length)]}function m(e){const t=[];for(let e of c.children)t.push(Number(e.dataset.id));return e.filter((e=>!t.includes(e.id)))}fetch("./assets/json/pets.json").then((e=>e.json())).then((e=>{t=e,c.classList.remove("showing"),c.classList.add("hiding"),c.addEventListener("animationend",(function e(n){"fadeout"==n.animationName&&(u(c,t,3),u(d,m(t),3),u(r,m(t),3),c.classList.remove("hiding"),c.classList.add("showing"),c.removeEventListener("animationend",e))}))})),window.onload=()=>{!function(){const e=document.body,t=document.querySelector(".header--fixed"),n=document.querySelector(".burger-menu"),s=document.querySelector(".header");function i(){if(n.classList.toggle("visible"),s.classList.toggle("hidden"),document.querySelectorAll(".burger-button").forEach((e=>e.classList.toggle("rotate-90"))),n.classList.contains("visible")){let n=e.getBoundingClientRect().width;e.classList.add("overflow-hidden");let s=e.getBoundingClientRect().width-n;e.style.marginRight=s+"px",t&&(t.style.marginRight=s+"px")}else e.classList.remove("overflow-hidden"),e.style.marginRight="",t&&(document.querySelector(".header--fixed").style.marginRight="")}document.addEventListener("click",(function(e){(e.target.closest(".burger-button")||e.target.closest(".backdrop"))&&i(),e.target.classList.contains("burger-menu__menu-link")&&i()}))}(),a.addEventListener("click",(()=>{s||(o.classList.add("sliding-right"),n=r)})),l.addEventListener("click",(()=>{s||(o.classList.add("sliding-left"),n=d)})),o.addEventListener("transitionstart",(e=>{e.target===o&&(s=!0,i.classList.toggle("pets__slides-active"))})),o.addEventListener("transitionend",(e=>{e.target===o&&(s=!1,i.classList.toggle("pets__slides-active"),function(e,t){const n=e.cloneNode(!0);t.innerHTML="",t.append(...n.children)}(n,c),o.classList.remove("sliding-right"),o.classList.remove("sliding-left"),u(d,m(t),3),u(r,m(t),3))})),document.addEventListener("click",(e=>{(e.target.closest(".popup__button-round-close")||e.target.classList.contains("popup__container"))&&(document.querySelector(".popup").remove(),document.body.classList.remove("overflow-hidden"),document.body.style.marginRight="",document.querySelector(".header").style.right="")})),document.addEventListener("click",(e=>{const t=e.target.closest("[data-show-popup]");if(t){let e=document.body.getBoundingClientRect().width;document.body.classList.add("overflow-hidden");let s=document.body.getBoundingClientRect().width,i=s-e;document.body.style.marginRight=s-e+"px",document.querySelector(".header").style.right=i+"px",n=t.dataset.id,fetch("./assets/json/pets.json").then((e=>e.json())).then((e=>{const t=e.find((e=>e.id==n)),s=document.createElement("article");s.className="popup",s.innerHTML=`\n            <div class="popup__container">\n                <div class="popup__wrapper">\n                    <div class="popup__img">\n                        <img src="${t.img}" alt="${t.name}">\n                    </div>\n                    <div class="popup__text">\n                        <div class="popup__title-wrapper">\n                            <h2 class="popup__title">${t.name}</h2>\n                            <div class="popup__subtitle">${t.type} - ${t.breed}</div>\n                        </div>\n                        <div class="popup__description">${t.description}</div>\n                        <ul class="popup__metics">\n                            <li class="popup__metric popup__age"><b>Age:</b> ${t.age}</li>\n                            <li class="popup__metric popup__inoculations"><b>Inoculations:</b> ${t.inoculations.join(", ")}</li>\n                            <li class="popup__metric popup__diseases"><b>Diseases:</b> ${t.diseases.join(", ")}</li>\n                            <li class="popup__metric parasites"><b>Parasites:</b> ${t.parasites.join(", ")}</li>\n                        </ul>\n                    </div><button class="button-round-close popup__button-round-close" title="Close"></button>\n                </div>\n            </div>\n            <div class="backdrop backdrop--darkTheme"></div>\n            `,document.documentElement.prepend(s)}))}var n}))}})();